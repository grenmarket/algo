Zadanie Gońcy (gon) - Baza zadań - Szkopuł

Kontakt

# Gońcy

### Limit pamięci: 32 MB

Król Informaticus, władca Bajtocji, ma zmartwienie. Tajne służby doniosły mu,
że zły król Haker postanowił napaść na jego królestwo. Co więcej, Haker wysłał
już tajnych agentów do jednego z miast Bajtocji poza stolicą, by utrudniali
królowi Informaticusowi przygotowania do obrony. Informaticus postanowił
powiadomić mieszkańców kraju o grożącym niebezpieczeństwie.

Obywatele Bajtocji mieszkają tylko w miastach. Miasta są ponumerowane od
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAALAQAAAAEDLvGtAAAAAnRSTlMAAQGU/a4AAAAfSURBVAiZY2hggMADDAxg+gEQNjAsgEMGBh2GNxAIAAbnDP3++BXkAAAAAElFTkSuQmCC)
do
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHAQAAAAGF52pbAAAAAnRSTlMAAQGU/a4AAAAiSURBVAiZYzjAwMDwgAEEdoDpBQwfGBIY8hoY7jQwzGUAAHG1CBC4It4cAAAAAElFTkSuQmCC),
gdzie
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAANAQAAAAGDof/GAAAAAnRSTlMAAQGU/a4AAACpSURBVAiZNY4xCoJgHMXfDbyBeoMgh6DFm9QSNCZIGBl8R6gT5CEaGgJza2ypsQwEx0SEDPz8v76lBz/e720PdBFlUBnuLo6jGZpGI+5uqBYbkBpFoTFNmPQBcqXUI0DCK70d/Irvg4v8zLTKkIotgwxPNVFm5Qn3pnzJ6bkQSyy+ELImWYs9H6KlY9wRade4aPYnTSmNd9wyNHyaFWJ+ZWkoo7F58o/8APWzchUXT/cBAAAAAElFTkSuQmCC).
Stolica kraju ma numer
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAALAQAAAAEDLvGtAAAAAnRSTlMAAQGU/a4AAAAfSURBVAiZY2hggMADDAxg+gEQNjAsgEMGBh2GNxAIAAbnDP3++BXkAAAAAElFTkSuQmCC).
W kraju istnieje dobrze rozwinięta sieć dróg. Wszystkie drogi są
dwukierunkowe. Dowolne dwa miasta mają co najwyżej jedno bezpośrednie
połączenie drogowe, ale dla każdych dwóch różnych miast
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMAQAAAAHr1UqlAAAAAnRSTlMAAQGU/a4AAAAqSURBVAiZY2hggMADDA/A8AnDFyD8wfACDHcwFDD8S4CiBwkM9xUY5BgAAZkTfLcAduIAAAAASUVORK5CYII=),
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAQAAAAH20HodAAAAAnRSTlMAAQGU/a4AAAA0SURBVAiZY2hgOMDAwNAAhAsYHjAkMNxg2MPAA+TtYNgAhhwM3w8wPG9geJDAcH4Bw70EAFqOEBy6Nmz+AAAAAElFTkSuQmCC)
można przejechać z
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMAQAAAAHr1UqlAAAAAnRSTlMAAQGU/a4AAAAqSURBVAiZY2hggMADDA/A8AnDFyD8wfACDHcwFDD8S4CiBwkM9xUY5BgAAZkTfLcAduIAAAAASUVORK5CYII=)
do
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAQAAAAH20HodAAAAAnRSTlMAAQGU/a4AAAA0SURBVAiZY2hgOMDAwNAAhAsYHjAkMNxg2MPAA+TtYNgAhhwM3w8wPG9geJDAcH4Bw70EAFqOEBy6Nmz+AAAAAElFTkSuQmCC),
a następnie wrócić z
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAQAAAAH20HodAAAAAnRSTlMAAQGU/a4AAAA0SURBVAiZY2hgOMDAwNAAhAsYHjAkMNxg2MPAA+TtYNgAhhwM3w8wPG9geJDAcH4Bw70EAFqOEBy6Nmz+AAAAAElFTkSuQmCC)
do
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMAQAAAAHr1UqlAAAAAnRSTlMAAQGU/a4AAAAqSURBVAiZY2hggMADDA/A8AnDFyD8wfACDHcwFDD8S4CiBwkM9xUY5BgAAZkTfLcAduIAAAAASUVORK5CYII=)
nie przejeżdżając ponownie przez żadne z miast na trasie z
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMAQAAAAHr1UqlAAAAAnRSTlMAAQGU/a4AAAAqSURBVAiZY2hggMADDA/A8AnDFyD8wfACDHcwFDD8S4CiBwkM9xUY5BgAAZkTfLcAduIAAAAASUVORK5CYII=)
do
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALAQAAAAH20HodAAAAAnRSTlMAAQGU/a4AAAA0SURBVAiZY2hgOMDAwNAAhAsYHjAkMNxg2MPAA+TtYNgAhhwM3w8wPG9geJDAcH4Bw70EAFqOEBy6Nmz+AAAAAElFTkSuQmCC).

Król Informaticus postanowił wysłać niezależnie dwóch gońców, by ostrzegli
mieszkańców wszystkich miast o grożącym niebezpieczeństwie. Każdy goniec
porusza się po drogach Bajtocji i może wielokrotnie odwiedzać to samo miasto.
Jednak kolejność, w jakiej goniec odwiedza poszczególne miasta po raz
pierwszy, musi być zgodna z planem, który otrzymał od króla.

Plan jest ciągiem
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHAQAAAAGF52pbAAAAAnRSTlMAAQGU/a4AAAAiSURBVAiZYzjAwMDwgAEEdoDpBQwfGBIY8hoY7jQwzGUAAHG1CBC4It4cAAAAAElFTkSuQmCC)
różnych liczb całkowitych
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAAKAQAAAAGEmC/wAAAAAnRSTlMAAQGU/a4AAACFSURBVAiZHYwxCsJQGINzEekZ3DoIrm49Qm+guD+omzdy9C84uAgKHuC9yW5tXXxF+4ypIfBBSALewB6bAAvo7IUFHyC/iOUgSg6z+X3d5sieynPYR+EgVBOy7aG9rNT07Ho0ZPMfcam3M+VJVUARrYhHN6a3Axg9r15vHGvwZNwbmZh2Px0yZCGnGw7TAAAAAElFTkSuQmCC)
z zakresu
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAARAQAAAAEM4sj5AAAAAnRSTlMAAQGU/a4AAABaSURBVAiZYyhgAMEPYFjPwMDGwPCPYT/Dboa9QDr/PwND/mMgfs3AUA9k1/9juP+f4T8QHWb4/xrEOBsNIoHi9f+BNEMqmKyFkt/eg8i/54HkZ8vrDFA1YBIAutY4kJ1mnSMAAAAASUVORK5CYII=),
przy czym
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAOAQAAAAELnPMHAAAAAnRSTlMAAQGU/a4AAABVSURBVAiZY/jB8IbhB8MLhv0PGP6Dkf0Dhh8Q9v8/YCz//wOQ/gLG8kC8H4h3H/jCIA1U8xusBqhqA5j6v4Hh+f8fDEDqfT+Y5/8eTP0HUUBT2kEUACrXTUX3xAx5AAAAAElFTkSuQmCC).
Po drodze z miasta o numerze
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAKAQAAAAE9jKm4AAAAAnRSTlMAAQGU/a4AAAAxSURBVAiZYzjAcICBgaGB4QGDAhA/YPjDIMAgwbADCCUYPjA8f8Dw/gCDfwPDfxACADVED6A0Q89lAAAAAElFTkSuQmCC)
do miasta o numerze
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAMAQAAAAHMe8tNAAAAAnRSTlMAAQGU/a4AAABLSURBVAiZY/jA8IEhgeEBwz8GOyC+x/D/D4P8HzD5g2E/EBUwCBcw/AeiCobn//8/YHj/fp8Cg//5/QsY/p9hBhLn9zEw/P+//wEAzbYkRTZo9IsAAAAASUVORK5CYII=)
goniec może przejść przez dowolną, skończoną liczbę miast, ale tylko tych,
które już wcześniej odwiedził. Niestety, na posłańców czyhają ludzie Hakera i
biorą w niewolę każdego gońca, który trafi do opanowanego przez nich miasta.
Trzeba przygotować takie plany tras podróży obu gońców, aby do każdego miasta
Bajtocji dotarł przynajmniej jeden z nich, zanim obaj zostaną schwytani przez
ludzi Hakera, ukrytych w jednym z miast poza stolicą.

## Zadanie

Ułóż program, który:

  * wczytuje ze standardowego wejścia liczbę ![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHAQAAAAGF52pbAAAAAnRSTlMAAQGU/a4AAAAiSURBVAiZYzjAwMDwgAEEdoDpBQwfGBIY8hoY7jQwzGUAAHG1CBC4It4cAAAAAElFTkSuQmCC) wszystkich miast w Bajtocji, liczbę ![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALAQAAAAHs7JqTAAAAAnRSTlMAAQGU/a4AAAAoSURBVAiZY2hgYGCAYBB5gOEBQwGQBaIbGByAtAPDH4YfDLsYjBhKANxsC0WNInA/AAAAAElFTkSuQmCC) wszystkich odcinków dróg łączących bezpośrednio dwa różne miasta, a następnie opisy wszystkich bezpośrednich połączeń drogowych, 
  * układa plany tras obu gońców zaczynające się w stolicy w taki sposób, aby do każdego miasta w Bajtocji dotarł przynajmniej jeden z nich zanim obaj zostaną schwytani przez ludzi Hakera, 
  * zapisuje wyznaczone plany na standardowe wyjście. 

## Wejście

W pierwszym wierszu standardowego wejścia jest zapisana jedna liczba naturalna
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHAQAAAAGF52pbAAAAAnRSTlMAAQGU/a4AAAAiSURBVAiZYzjAwMDwgAEEdoDpBQwfGBIY8hoY7jQwzGUAAHG1CBC4It4cAAAAAElFTkSuQmCC)
— jest to liczba wszystkich miast w Bajtocji. W drugim wierszu jest zapisana
jedna liczba naturalna
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALAQAAAAHs7JqTAAAAAnRSTlMAAQGU/a4AAAAoSURBVAiZY2hgYGCAYBB5gOEBQwGQBaIbGByAtAPDH4YfDLsYjBhKANxsC0WNInA/AAAAAElFTkSuQmCC)
— jest to liczba wszystkich bezpośrednich połączeń drogowych. W każdym z
kolejnych
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALAQAAAAHs7JqTAAAAAnRSTlMAAQGU/a4AAAAoSURBVAiZY2hgYGCAYBB5gOEBQwGQBaIbGByAtAPDH4YfDLsYjBhKANxsC0WNInA/AAAAAElFTkSuQmCC)
wierszy znajduje się opis jednego bezpośredniego połączenia drogowego. Opis
bezpośredniego połączenia to dwie różne liczby naturalne z zakresu
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAARAQAAAAEM4sj5AAAAAnRSTlMAAQGU/a4AAABaSURBVAiZYyhgAMEPYFjPwMDGwPCPYT/Dboa9QDr/PwND/mMgfs3AUA9k1/9juP+f4T8QHWb4/xrEOBsNIoHi9f+BNEMqmKyFkt/eg8i/54HkZ8vrDFA1YBIAutY4kJ1mnSMAAAAASUVORK5CYII=)
oddzielone pojedynczym odstępem. Każde połączenie występuje w pliku tylko raz.

## Wyjście

W pierwszym wierszu standardowego wyjścia należy zapisać plan trasy pierwszego
gońca w postaci ciągu
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHAQAAAAGF52pbAAAAAnRSTlMAAQGU/a4AAAAiSURBVAiZYzjAwMDwgAEEdoDpBQwfGBIY8hoY7jQwzGUAAHG1CBC4It4cAAAAAElFTkSuQmCC)
różnych liczb naturalnych z zakresu
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAARAQAAAAEM4sj5AAAAAnRSTlMAAQGU/a4AAABaSURBVAiZYyhgAMEPYFjPwMDGwPCPYT/Dboa9QDr/PwND/mMgfs3AUA9k1/9juP+f4T8QHWb4/xrEOBsNIoHi9f+BNEMqmKyFkt/eg8i/54HkZ8vrDFA1YBIAutY4kJ1mnSMAAAAASUVORK5CYII=)
pooddzielanych pojedynczym odstępem. W drugim wierszu należy zapisać w takiej
samej postaci plan trasy drugiego gońca.

## Przykład

Dla danych wejściowych:

    
    
    5
    6
    1 2
    2 3
    3 4
    4 1
    4 5
    5 2
    

poprawną odpowiedzią jest:

    
    
    1 2 3 5 4
    1 4 5 3 2

![Image](data:image/gif;base64,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)

_Autor zadania: Krzysztof Diks._

