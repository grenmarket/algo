Zadanie Drzewa (drz) - Baza zadań - Szkopuł

[
![Image](data:image/png;base64,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)
](https://szkopul.edu.pl/)

[Konkursy](https://szkopul.edu.pl/contest/) [Baza
zadań](https://szkopul.edu.pl/problemset/) [Archiwum zadań
konkursowych](https://szkopul.edu.pl/task_archive/)
[Kursy](https://kursy.szkopul.edu.pl/)

3:20:00 PM

![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAALCAIAAAD5gJpuAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAEISURBVHjaYvz/8SMDDPyD43//gPQ/bAAggFhACvn4gMT///8Zwdr+/wcRjP//MzMwMP1HAV+ePQMIIBYGqKL/yIz/2AAjI+O/P38AAoiFSNUQKaCTAAKIBehWRrhqMMSjAagDIIBYGPj5Gfr6/j979v/PH4Y/f/7D0e/f/38DGb/BjN8gWWnpfwsXAgQQ2EkPH/5/8OD/718MvyHqfv3/9fv/r18gNhLJ+OkT0DkAAQR2ElgIZDyyIlTVEMv/MDAABBBIAzPYAQxwRZja/gA1/GX4+xfoHIAAAmlg+v2HQVISbMxfhj8gnYxgIxkgJBD9/QtBQMUAAcT4FRy5cMSAykWTAgKAAAMA0PVcqMe0XaEAAAAASUVORK5CYIIK)

**marketaxon**

Kontakt

  * [ Zadania publiczne ](https://szkopul.edu.pl/problemset/)
  * [ Moje zadania ](https://szkopul.edu.pl/problemset/myproblems/)
  * [ Widok zadania ](https://szkopul.edu.pl/problemset/problem/7-HJKUXJXg7Fcq0WLy5i1hhT/site/)

# Zadanie Drzewa (drz)

  * [Treść zadania](https://szkopul.edu.pl/problemset/problem/7-HJKUXJXg7Fcq0WLy5i1hhT/site/?key=statement)
  * [Zgłoszenia](https://szkopul.edu.pl/problemset/problem/7-HJKUXJXg7Fcq0WLy5i1hhT/site/?key=submissions)
  * [Wyślij](https://szkopul.edu.pl/problemset/problem/7-HJKUXJXg7Fcq0WLy5i1hhT/site/?key=submit)
  * [Powiązane portale](https://szkopul.edu.pl/problemset/problem/7-HJKUXJXg7Fcq0WLy5i1hhT/site/?key=related_portal_pages)

# Drzewa

### Limit pamięci: 32 MB

Drzewa występują bardzo często w informatyce. W odróżnieniu od drzew w naturze
drzewa w informatyce rosną do góry nogami: korzeń jest na górze, a liście są
na dole. Drzewo składa się z elementów zwanych węzłami. Jeden z węzłów jest
korzeniem. Każdy węzeł
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHAQAAAAFu0NFYAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY3BgaGB4wMDAcIBhBUMHQwFDABByMNxsYJjdwLDZAQBz9AgQTP9NtAAAAABJRU5ErkJggg==)
(oprócz korzenia) ma swojego (dokładnie jednego) ojca
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHAQAAAAF07DHWAAAAAnRSTlMAAQGU/a4AAAAfSURBVAiZY2BgaGA4wAAiFwChA0MCECsw3GCYwbAFAEyQBiXOHbdFAAAAAElFTkSuQmCC).
Jeśli węzeł
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHAQAAAAF07DHWAAAAAnRSTlMAAQGU/a4AAAAfSURBVAiZY2BgaGA4wAAiFwChA0MCECsw3GCYwbAFAEyQBiXOHbdFAAAAAElFTkSuQmCC)
jest ojcem
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHAQAAAAFu0NFYAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY3BgaGB4wMDAcIBhBUMHQwFDABByMNxsYJjdwLDZAQBz9AgQTP9NtAAAAABJRU5ErkJggg==),
to
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHAQAAAAFu0NFYAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY3BgaGB4wMDAcIBhBUMHQwFDABByMNxsYJjdwLDZAQBz9AgQTP9NtAAAAABJRU5ErkJggg==)
jest synem
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAHAQAAAAF07DHWAAAAAnRSTlMAAQGU/a4AAAAfSURBVAiZY2BgaGA4wAAiFwChA0MCECsw3GCYwbAFAEyQBiXOHbdFAAAAAElFTkSuQmCC).
Węzły nie mające synów nazywamy liśćmi. Synów węzła
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHAQAAAAFu0NFYAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY3BgaGB4wMDAcIBhBUMHQwFDABByMNxsYJjdwLDZAQBz9AgQTP9NtAAAAABJRU5ErkJggg==),
ich synów, synów ich synów itd. nazywamy potomkami węzła
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHAQAAAAFu0NFYAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY3BgaGB4wMDAcIBhBUMHQwFDABByMNxsYJjdwLDZAQBz9AgQTP9NtAAAAABJRU5ErkJggg==).
Każdy węzeł - oprócz korzenia - jest potomkiem korzenia. Każdy węzeł ma swój
poziom. Korzeń ma poziom
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALAQAAAAHs7JqTAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY2hgAIEGBgcgPACEBUA4gUEBzAZBBQYjhiogrGCwAgDG+AmJGHCAfgAAAABJRU5ErkJggg==),
a synowie mają poziom o jeden większy od swoich ojców.

Drzewo jest pełnym drzewem binarnym wtedy i tylko wtedy, gdy każdy węzeł ma
dokładnie dwóch lub zero synów. W drzewach binarnych rozróżniamy lewego i
prawego syna.

![Image](data:image/gif;base64,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)

Powyższy rysunek przedstawia przykładowe pełne drzewo binarne. Węzły tego
drzewa są ponumerowane w specjalnej kolejności (nazywanej w literaturze
angielskiej preorder). W kolejności tej korzeń ma numer
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAALAQAAAAEDLvGtAAAAAnRSTlMAAQGU/a4AAAAfSURBVAiZY2hggMADDAxg+gEQNjAsgEMGBh2GNxAIAAbnDP3++BXkAAAAAElFTkSuQmCC),
ojciec poprzedza synów, a lewy syn i dowolny jego potomek ma numer mniejszy
niż prawy syn i każdy jego potomek.

Jest wiele sposobów zapisu pełnych drzew binarnych z taką numeracją węzłów.
Oto trzy z nich.

**Zapis genealogiczny**  
Jest to ciąg liczb. Pierwszy element ciągu jest równy
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAALAQAAAAHs7JqTAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY2hgAIEGBgcgPACEBUA4gUEBzAZBBQYjhiogrGCwAgDG+AmJGHCAfgAAAABJRU5ErkJggg==)
(zero), zaś dla
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAOAQAAAAH3idjNAAAAAnRSTlMAAQGU/a4AAABcSURBVAiZHYvBCYAwFEOzSVdxjG5TN7GT2I4hCP5jjyIeWhAbU/nhHZL30TDOI2VQAeofzuiMsDPiUGmc8GpfQoaZPOmr+jR+yO7BHrhhZxFvXmKlE8tDNjhJ7QMtzECSvfFJdAAAAABJRU5ErkJggg==),
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAOAQAAAAFT42AeAAAAAnRSTlMAAQGU/a4AAAAsSURBVAiZY2hgAEEGID7A0ACFD4BsEHwAFn3AsAAI/wDhDYYPDF8YnjDIAACwuRHV1uw5EAAAAABJRU5ErkJggg==)-ty
wyraz ciągu jest numerem ojca węzła
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAOAQAAAAFT42AeAAAAAnRSTlMAAQGU/a4AAAAsSURBVAiZY2hgAEEGID7A0ACFD4BsEHwAFn3AsAAI/wDhDYYPDF8YnjDIAACwuRHV1uw5EAAAAABJRU5ErkJggg==).

**Zapis nawiasowy**  
Każdemu węzłowi przyporządkowujemy napis złożony z nawiasów. Liściom
przyporządkowujemy napis
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAASAQAAAAHW/PlzAAAAAnRSTlMAAQGU/a4AAABBSURBVAiZYzjAwMBwgKEBDBOA0AHIA0EGhhcMBUD4g+ECkExg+ACGD4CsCww3Gxj2NTDYMTDUw5BdA8PeBobXDQBy7Rc5NJ4iNwAAAABJRU5ErkJggg==).
Każdemu z pozostałych węzłów w przyporządkowujemy napis postaci:
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAASAQAAAAHvm0goAAAAAnRSTlMAAQGU/a4AAABiSURBVAiZFYg7DkBAFADnYMRV9gASvU/tGg7gAAphSx29iFfRWRWieVYmk0kGwSCeCktO7G1pqH3dRGwoDHqiFYmQWB5hMYzCYMns/1fd6PQl1IdibsnugHTPidxLX144PT5bzC+JqZbObgAAAABJRU5ErkJggg==),
gdzie
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAKAQAAAAEuW+lMAAAAAnRSTlMAAQGU/a4AAAAbSURBVAiZY2hgYGBAYAcGGGhgOMCwAAgTGBwAVIQFYVvoLrkAAAAASUVORK5CYII=)
i
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAKAQAAAAE5eXmFAAAAAnRSTlMAAQGU/a4AAAA0SURBVAiZYzjAcICBgaGB4QGQPMDgwHCBoQPI28CwgGECwweG7QwM7xgYzjUw3G9g4G8AAB0xDWqK8YpAAAAAAElFTkSuQmCC)
oznaczają napisy przyporządkowane odpowiednio lewemu i prawemu synowi
![Image](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAHAQAAAAFu0NFYAAAAAnRSTlMAAQGU/a4AAAAmSURBVAiZY3BgaGB4wMDAcIBhBUMHQwFDABByMNxsYJjdwLDZAQBz9AgQTP9NtAAAAABJRU5ErkJggg==).
Napis przyporządkowany korzeniowi jest zapisem nawiasowym drzewa.

**Zapis poziomowy**  
Jest to ciąg poziomów kolejnych liści drzewa (zgodnie z przyjętą numeracją).

Drzewo przedstawione na rysunku można opisać następująco:  

Zapis genealogiczny | `0 1 2 2 4 4 1 7 7`  
---|---  
Zapis nawiasowy | `((()(()()))(()()))`  
Zapis poziomowy | `2 3 3 2 2`  
  
## Zadanie

Napisz program, który wczytuje ze standardowego wejścia ciąg liczb i bada, czy
jest on zapisem poziomowym pełnego drzewa binarnego. Jeśli nie jest, to
zapisuje w standardowym wyjściu jeden wyraz `NIE`, a jeśli jest, to znajduje
dwa inne zapisy tego drzewa (genealogiczny i nawiasowy) i zapisuje je w
standardowym wyjściu.

## Wejście

W pierwszym wierszu standardowego wejścia zapisana jest dodatnia liczba
wyrazów ciągu (nie większa niż 2500). W drugim wierszu zapisane są kolejne
wyrazy ciągu oddzielone pojedynczymi odstępami. Liczby w standardowym wejściu
są zapisane poprawnie. Twój program nie musi tego sprawdzać.

## Wyjście

Standardowe wyjście powinno zawierać:

  * tylko jeden wyraz `NIE`
  * albo: 
    * w pierwszym wierszu kolejne wyrazy zapisu genealogicznego oddzielone pojedynczymi odstępami,
    * w drugim wierszu zapis nawiasowy, tzn. ciąg nawiasów lewych i prawych bez odstępów między nimi.

## Przykłady

Dla danych wejściowych:

    
    
    5
    2 2 3 3 2 
    

poprawną odpowiedzią jest:

    
    
    0 1 2 2 1 5 6 6 5 
    ((()())((()())()))
    

Dla danych wejściowych:

    
    
    4
    1 2 2 3 
    

poprawną odpowiedzią jest:

    
    
    NIE
    

_Autor zadania: Wojciech Rytter._

Działa na bazie [OIOIOI](https://www.github.com/sio2project/oioioi), części
[SIO2 Project](https://github.com/sio2project).

